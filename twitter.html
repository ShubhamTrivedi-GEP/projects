<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitter Clone</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              'serif': ['Cormorant Garamond', 'serif'],
              'sans': ['Montserrat', 'sans-serif'],
            },
            colors: {
              'dark': '#1a1a1a',
              'light': '#f8f8f8',
              'accent': '#8c7851',
              'accent-light': '#a99b76',
            }
          }
        }
      }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Custom styles */
        .tweet-action:hover {
            color: #1DA1F2;
        }
        .like-btn.active {
            color: #e0245e;
        }
        .retweet-btn.active {
            color: #17bf63;
        }
        .tweet {
            transition: background-color 0.2s ease;
        }
        .tweet:hover {
            background-color: rgba(0, 0, 0, 0.03);
        }
        /* Loading animation */
        .loading-dots {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px 0;
        }
        .loading-dots div {
            width: 8px;
            height: 8px;
            margin: 0 4px;
            border-radius: 50%;
            background-color: #1DA1F2;
            animation: dot-pulse 1.5s infinite ease-in-out;
        }
        .loading-dots div:nth-child(2) {
            animation-delay: 0.2s;
        }
        .loading-dots div:nth-child(3) {
            animation-delay: 0.4s;
        }
        @keyframes dot-pulse {
            0%, 60%, 100% { transform: scale(1); opacity: 0.6; }
            30% { transform: scale(1.5); opacity: 1; }
        }
        /* Hide scrollbar for Chrome, Safari and Opera */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .hide-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        /* Notification badge */
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            width: 18px;
            height: 18px;
            background-color: #e0245e;
            color: white;
            border-radius: 50%;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Explore page styles */
        #explore-page .search-result {
            border-left: 4px solid transparent;
        }
        #explore-page .search-result.selected {
            border-left-color: #1DA1F2;
            background-color: #f5f8fa;
        }

        /* Notifications page styles */
        .notification-tab.active .tab-indicator {
            display: block;
        }
        .notification-tab:not(.active) .tab-indicator {
            display: none;
        }        /* Messages page styles */
        .conversations-container {
            height: calc(100vh - 125px);
            overflow-y: auto;
        }
        .message-thread-container {
            height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 10;
            background-color: white;
        }
        .message-thread-content {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            padding-bottom: 80px; /* Ensure enough space for the input area */
        }
        .message-input-container {
            position: fixed;
            bottom: 50px; /* Height of the navbar */
            left: 0;
            right: 0;
            background-color: white;
            border-top: 1px solid #e5e7eb;
            padding: 12px;
            max-width: 768px;
            margin: 0 auto;
            z-index: 20;
        }
        .message-received .message-bubble {
            background-color: #f0f2f5;
            border-radius: 18px 18px 18px 4px;
        }
        .message-sent .message-bubble {
            background-color: #1DA1F2;
            color: white;
            border-radius: 18px 18px 4px 18px;
        }
        
        .loading-dots {
            display: flex;
            justify-content: center;
            padding: 20px 0;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900 antialiased">
    <div id="app" class="max-w-md mx-auto bg-white min-h-screen flex flex-col">
        <!-- Header -->
        <header class="sticky top-0 z-50 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between">
            <div class="flex items-center">
                <img id="profile-pic" src="/api/placeholder/40/40" alt="Profile Picture" class="w-8 h-8 rounded-full cursor-pointer">
            </div>
            <div class="text-center">
                <i class="fab fa-twitter text-blue-400 text-2xl"></i>
            </div>
            <div>
                <i class="fas fa-sparkles text-blue-400 text-xl"></i>
            </div>
        </header>

        <!-- Main Content -->
        <main class="flex-1 overflow-y-auto hide-scrollbar" id="main-content">
            <!-- Home Page -->
            <div id="home-page">
                <!-- Tweet Composer -->
                <div class="px-4 py-3 border-b border-gray-200">
                    <div class="flex items-start">
                        <img src="/api/placeholder/48/48" alt="Your Profile" class="w-10 h-10 rounded-full mr-3">
                        <div class="flex-1">
                            <textarea id="tweet-content" class="w-full p-2 text-lg placeholder-gray-500 focus:outline-none resize-none" placeholder="What's happening?" rows="2"></textarea>
                            
                            <!-- Image Preview Area -->
                            <div id="image-preview-container" class="hidden mt-3 relative">
                                <div class="relative">
                                    <img id="image-preview" src="" alt="Image Preview" class="rounded-2xl max-h-96 w-auto">
                                    <button id="remove-image-btn" class="absolute top-2 right-2 bg-gray-800 bg-opacity-75 text-white rounded-full p-1 hover:bg-opacity-100 transition">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="flex items-center justify-between mt-3">
                                <div class="flex items-center text-blue-400 space-x-4">
                                    <!-- Hidden file input for image upload -->
                                    <input type="file" id="image-upload" accept="image/*" class="hidden">
                                    <label for="image-upload" class="cursor-pointer">
                                        <i class="far fa-image"></i>
                                    </label>
                                    <i class="fas fa-poll-h cursor-pointer"></i>
                                    <i class="far fa-smile cursor-pointer"></i>
                                    <i class="far fa-calendar cursor-pointer"></i>
                                </div>
                                <button id="tweet-btn" class="bg-blue-400 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded-full transition duration-200">
                                    Tweet
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tweets Feed -->
                <div id="tweets-container">
                    <!-- Tweets will be loaded here dynamically -->
                </div>

                <!-- Loading indicator -->
                <div id="loading" class="loading-dots hidden">
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>

            <!-- Explore Page -->
            <div id="explore-page" class="hidden">
                <!-- Search Bar -->
                <div class="sticky top-0 z-10 bg-white p-3 border-b border-gray-200">
                    <div class="relative">
                        <i class="fas fa-search absolute left-3 top-3 text-gray-500"></i>
                        <input id="explore-search" type="text" placeholder="Search Twitter" class="bg-gray-100 rounded-full py-2 pl-10 pr-4 w-full focus:outline-none focus:bg-white focus:ring-2 focus:ring-blue-400 border border-gray-200">
                    </div>
                </div>

                <!-- Trending Topics -->
                <div class="border-b border-gray-200 px-4 py-3">
                    <h2 class="text-lg font-bold mb-2">Trending</h2>
                    <div class="space-y-4">
                        <div class="trending-topic cursor-pointer hover:bg-gray-50 p-2 rounded-lg">
                            <div class="text-xs text-gray-500">Trending in Technology</div>
                            <div class="font-bold">#AI</div>
                            <div class="text-xs text-gray-500">50.4K Tweets</div>
                        </div>
                        <div class="trending-topic cursor-pointer hover:bg-gray-50 p-2 rounded-lg">
                            <div class="text-xs text-gray-500">Trending in Sports</div>
                            <div class="font-bold">#Olympics2024</div>
                            <div class="text-xs text-gray-500">102K Tweets</div>
                        </div>
                        <div class="trending-topic cursor-pointer hover:bg-gray-50 p-2 rounded-lg">
                            <div class="text-xs text-gray-500">Entertainment · Trending</div>
                            <div class="font-bold">#NewMovie</div>
                            <div class="text-xs text-gray-500">32.1K Tweets</div>
                        </div>
                        <div class="trending-topic cursor-pointer hover:bg-gray-50 p-2 rounded-lg">
                            <div class="text-xs text-gray-500">Politics · Trending</div>
                            <div class="font-bold">#ElectionUpdate</div>
                            <div class="text-xs text-gray-500">78.3K Tweets</div>
                        </div>
                        <div class="trending-topic cursor-pointer hover:bg-gray-50 p-2 rounded-lg">
                            <div class="text-xs text-gray-500">Trending in Finance</div>
                            <div class="font-bold">#Cryptocurrency</div>
                            <div class="text-xs text-gray-500">45.7K Tweets</div>
                        </div>
                    </div>
                </div>

                <!-- News Section -->
                <div class="border-b border-gray-200 pt-2">
                    <h2 class="text-lg font-bold px-4 mb-2">What's happening</h2>
                    
                    <div class="news-item flex p-4 cursor-pointer hover:bg-gray-50 border-b border-gray-100">
                        <div class="flex-1 pr-3">
                            <div class="text-xs text-gray-500">Technology · 2 hours ago</div>
                            <div class="font-bold">New breakthrough in quantum computing announced</div>
                        </div>
                        <img src="/api/placeholder/100/100" class="w-16 h-16 rounded-lg object-cover" alt="News Image">
                    </div>
                    
                    <div class="news-item flex p-4 cursor-pointer hover:bg-gray-50 border-b border-gray-100">
                        <div class="flex-1 pr-3">
                            <div class="text-xs text-gray-500">Sports · Live</div>
                            <div class="font-bold">Championship finals: Follow the action live</div>
                        </div>
                        <img src="/api/placeholder/100/100" class="w-16 h-16 rounded-lg object-cover" alt="News Image">
                    </div>
                    
                    <div class="news-item flex p-4 cursor-pointer hover:bg-gray-50 border-b border-gray-100">
                        <div class="flex-1 pr-3">
                            <div class="text-xs text-gray-500">Entertainment · Trending</div>
                            <div class="font-bold">Famous celebrity couple announces surprise wedding</div>
                        </div>
                        <img src="/api/placeholder/100/100" class="w-16 h-16 rounded-lg object-cover" alt="News Image">
                    </div>
                    
                    <div class="news-item flex p-4 cursor-pointer hover:bg-gray-50">
                        <div class="flex-1 pr-3">
                            <div class="text-xs text-gray-500">Science · 1 day ago</div>
                            <div class="font-bold">Scientists discover a new species in the Amazon rainforest</div>
                        </div>
                        <img src="/api/placeholder/100/100" class="w-16 h-16 rounded-lg object-cover" alt="News Image">
                    </div>
                </div>

                <!-- Who to Follow Section -->
                <div class="px-4 py-3">
                    <h2 class="text-lg font-bold mb-3">Who to follow</h2>
                    
                    <div class="user-suggestion flex items-center justify-between py-2">
                        <div class="flex items-center">
                            <img src="/api/placeholder/48/48" alt="User Profile" class="w-12 h-12 rounded-full mr-3">
                            <div>
                                <div class="font-bold text-sm">Jane Smith</div>
                                <div class="text-gray-500 text-sm">@janesmith</div>
                            </div>
                        </div>
                        <button class="bg-black text-white rounded-full px-4 py-1 font-bold text-sm hover:bg-gray-800">
                            Follow
                        </button>
                    </div>
                    
                    <div class="user-suggestion flex items-center justify-between py-2">
                        <div class="flex items-center">
                            <img src="/api/placeholder/48/48" alt="User Profile" class="w-12 h-12 rounded-full mr-3">
                            <div>
                                <div class="font-bold text-sm">Tech News</div>
                                <div class="text-gray-500 text-sm">@technews</div>
                            </div>
                        </div>
                        <button class="bg-black text-white rounded-full px-4 py-1 font-bold text-sm hover:bg-gray-800">
                            Follow
                        </button>
                    </div>
                    
                    <div class="user-suggestion flex items-center justify-between py-2">
                        <div class="flex items-center">
                            <img src="/api/placeholder/48/48" alt="User Profile" class="w-12 h-12 rounded-full mr-3">
                            <div>
                                <div class="font-bold text-sm">Travel Guide</div>
                                <div class="text-gray-500 text-sm">@travelguide</div>
                            </div>
                        </div>
                        <button class="bg-black text-white rounded-full px-4 py-1 font-bold text-sm hover:bg-gray-800">
                            Follow
                        </button>
                    </div>
                    
                    <button class="text-blue-400 hover:text-blue-500 mt-2 text-sm font-semibold">
                        Show more
                    </button>
                </div>
            </div>

            <!-- Notifications Page -->
            <div id="notifications-page" class="hidden">
                <!-- Notification Tabs -->
                <div class="sticky top-0 z-10 bg-white">
                    <div class="flex items-center px-4 py-3 border-b border-gray-200">
                        <h1 class="text-xl font-bold flex-1">Notifications</h1>
                        <i class="fas fa-cog text-lg text-blue-400 cursor-pointer" id="notifications-settings"></i>
                    </div>
                    <div class="flex border-b border-gray-200">
                        <div class="flex-1 text-center py-3 cursor-pointer notification-tab active" data-tab="all">
                            <span class="font-bold">All</span>
                            <div class="tab-indicator bg-blue-400 w-12 h-1 mx-auto mt-2"></div>
                        </div>
                        <div class="flex-1 text-center py-3 cursor-pointer notification-tab" data-tab="mentions">
                            <span class="font-bold">Mentions</span>
                            <div class="tab-indicator bg-blue-400 w-12 h-1 mx-auto mt-2 hidden"></div>
                        </div>
                    </div>
                </div>

                <!-- All Notifications Tab -->
                <div id="all-notifications" class="notifications-tab">
                    <!-- Notifications will be loaded here dynamically -->
                    <div class="notification border-b border-gray-200 p-4 hover:bg-gray-50 cursor-pointer">
                        <div class="flex">
                            <div class="mr-3 text-blue-400">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-start">
                                    <img src="/api/placeholder/48/48" alt="User Profile" class="w-10 h-10 rounded-full mr-3">
                                    <div>
                                        <p class="text-sm">
                                            <span class="font-bold">Tech Insider</span> liked your tweet
                                        </p>
                                        <p class="text-gray-500 text-sm mt-1">
                                            "Just discovered an amazing new coffee place downtown! The atmosphere is fantastic..."
                                        </p>
                                        <p class="text-gray-500 text-xs mt-1">2h</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="notification border-b border-gray-200 p-4 hover:bg-gray-50 cursor-pointer">
                        <div class="flex">
                            <div class="mr-3 text-green-500">
                                <i class="fas fa-retweet"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-start">
                                    <img src="/api/placeholder/48/48" alt="User Profile" class="w-10 h-10 rounded-full mr-3">
                                    <div>
                                        <p class="text-sm">
                                            <span class="font-bold">Emma Wilson</span> retweeted your tweet
                                        </p>
                                        <p class="text-gray-500 text-sm mt-1">
                                            "The weather today is absolutely perfect for hiking. Who else loves outdoor activities?"
                                        </p>
                                        <p class="text-gray-500 text-xs mt-1">5h</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="notification border-b border-gray-200 p-4 hover:bg-gray-50 cursor-pointer">
                        <div class="flex">
                            <div class="mr-3 text-blue-500">
                                <i class="fas fa-user-plus"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-start">
                                    <img src="/api/placeholder/48/48" alt="User Profile" class="w-10 h-10 rounded-full mr-3">
                                    <div class="flex-1">
                                        <p class="text-sm">
                                            <span class="font-bold">Travel Enthusiast</span> followed you
                                        </p>
                                        <p class="text-gray-500 text-xs mt-1">1d</p>
                                    </div>
                                    <button class="bg-black text-white rounded-full px-4 py-1 font-bold text-sm hover:bg-gray-800">
                                        Follow
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="notification border-b border-gray-200 p-4 hover:bg-gray-50 cursor-pointer">
                        <div class="flex">
                            <div class="mr-3 text-purple-500">
                                <i class="fas fa-comment"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-start">
                                    <img src="/api/placeholder/48/48" alt="User Profile" class="w-10 h-10 rounded-full mr-3">
                                    <div>
                                        <p class="text-sm">
                                            <span class="font-bold">Food Critic</span> replied to your tweet
                                        </p>
                                        <p class="text-gray-500 text-sm mt-1">
                                            "I completely agree! Have you tried their pastries? They're amazing too!"
                                        </p>
                                        <p class="text-gray-500 text-xs mt-1">2d</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="notification border-b border-gray-200 p-4 hover:bg-gray-50 cursor-pointer">
                        <div class="flex">
                            <div class="mr-3 text-blue-400">
                                <i class="fas fa-bell"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-start">
                                    <i class="fab fa-twitter text-blue-400 text-xl mr-3 mt-1"></i>
                                    <div>
                                        <p class="text-sm">
                                            There was a login to your account from a new device
                                        </p>
                                        <p class="text-gray-500 text-xs mt-1">3d</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mentions Tab (hidden by default) -->
                <div id="mentions-notifications" class="notifications-tab hidden">
                    <!-- Empty state for mentions -->
                    <div class="flex flex-col items-center justify-center p-8 text-center">
                        <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mb-4">
                            <i class="fas fa-at text-blue-400 text-xl"></i>
                        </div>
                        <h2 class="font-bold text-xl mb-2">Nothing to see here — yet</h2>
                        <p class="text-gray-500 text-sm mb-6 max-w-xs">
                            When someone mentions you, you'll find it here.
                        </p>
                    </div>
                </div>

                <!-- Loading indicator for notifications -->
                <div id="loading-notifications" class="loading-dots hidden">
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>

            <!-- Messages Page -->
            <div id="messages-page" class="hidden">
                <!-- Messages Header -->
                <div class="sticky top-0 z-10 bg-white">
                    <div class="flex items-center px-4 py-3 border-b border-gray-200">
                        <h1 class="text-xl font-bold flex-1">Messages</h1>
                        <i class="fas fa-cog text-lg text-blue-400 cursor-pointer" id="messages-settings"></i>
                    </div>
                    <div class="relative">
                        <i class="fas fa-search absolute left-3 top-3 text-gray-500"></i>
                        <input id="messages-search" type="text" placeholder="Search for people and groups" class="bg-gray-100 rounded-full py-2 pl-10 pr-4 w-full focus:outline-none focus:bg-white focus:ring-2 focus:ring-blue-400 border border-gray-200">
                    </div>
                </div>

                <!-- Conversation List (default view) -->
                <div id="conversation-list" class="conversations-container">
                    <div class="conversation border-b border-gray-200 p-4 hover:bg-gray-50 cursor-pointer" data-conversation-id="1">
                        <div class="flex">
                            <img src="/api/placeholder/48/48" alt="User Profile" class="w-12 h-12 rounded-full mr-3">
                            <div class="flex-1">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <p class="font-bold">John Doe</p>
                                        <p class="text-gray-500 text-sm">Hey, how's the project going?</p>
                                    </div>
                                    <span class="text-xs text-gray-500">2h</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="conversation border-b border-gray-200 p-4 hover:bg-gray-50 cursor-pointer" data-conversation-id="2">
                        <div class="flex">
                            <img src="/api/placeholder/48/48" alt="User Profile" class="w-12 h-12 rounded-full mr-3">
                            <div class="flex-1">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <p class="font-bold">Tech Group <span class="text-gray-500 font-normal">· 3</span></p>
                                        <p class="text-gray-500 text-sm">Sarah: Did you see the new feature?</p>
                                    </div>
                                    <span class="text-xs text-gray-500">5h</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="conversation border-b border-gray-200 p-4 hover:bg-gray-50 cursor-pointer" data-conversation-id="3">
                        <div class="flex">
                            <img src="/api/placeholder/48/48" alt="User Profile" class="w-12 h-12 rounded-full mr-3">
                            <div class="flex-1">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <p class="font-bold">Jane Smith</p>
                                        <p class="text-gray-500 text-sm">Thanks for the information!</p>
                                    </div>
                                    <span class="text-xs text-gray-500">1d</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="conversation border-b border-gray-200 p-4 hover:bg-gray-50 cursor-pointer" data-conversation-id="4">
                        <div class="flex">
                            <div class="relative">
                                <img src="/api/placeholder/48/48" alt="User Profile" class="w-12 h-12 rounded-full mr-3">
                                <div class="absolute bottom-0 right-2 w-3 h-3 bg-green-500 rounded-full border-2 border-white"></div>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <p class="font-bold">Mark Johnson</p>
                                        <p class="text-gray-500 text-sm">Let's connect soon to discuss the details</p>
                                    </div>
                                    <span class="text-xs text-gray-500">2d</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- New Message Button -->
                    <div class="fixed bottom-16 right-4">
                        <button id="new-message-btn" class="bg-blue-400 hover:bg-blue-500 text-white w-12 h-12 rounded-full shadow-lg flex items-center justify-center">
                            <i class="fas fa-envelope"></i>
                        </button>
                    </div>
                </div>                <!-- Message Thread View (hidden by default) -->
                <div id="message-thread" class="message-thread-container hidden">
                    <!-- Thread Header -->
                    <div class="sticky top-0 z-20 bg-white border-b border-gray-200">
                        <div class="flex items-center p-3">
                            <button id="back-to-messages" class="mr-3">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <img src="/api/placeholder/40/40" alt="User Profile" class="w-9 h-9 rounded-full mr-2">
                            <div class="flex-1">
                                <div class="font-bold" id="conversation-name">John Doe</div>
                                <div class="text-xs text-gray-500">
                                    <span id="conversation-status">Active now</span>
                                </div>
                            </div>
                            <button class="text-blue-400">
                                <i class="fas fa-info-circle"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Thread Messages -->
                    <div id="message-thread-content" class="message-thread-content">
                        <!-- Messages will be loaded here dynamically -->
                        <div class="message received">
                            <div class="flex items-start mb-4">
                                <img src="/api/placeholder/35/35" alt="User" class="w-8 h-8 rounded-full mr-2 mt-1">
                                <div>
                                    <div class="bg-gray-100 p-3 rounded-lg rounded-tl-none max-w-[80%]">
                                        <p>Hey, how's the project going?</p>
                                    </div>
                                    <div class="text-xs text-gray-500 mt-1">2:30 PM</div>
                                </div>
                            </div>
                        </div>

                        <div class="message sent">
                            <div class="flex items-start justify-end mb-4">
                                <div class="text-right">
                                    <div class="bg-blue-400 text-white p-3 rounded-lg rounded-tr-none max-w-[80%] inline-block">
                                        <p>It's going well! Just finished implementing the notifications page.</p>
                                    </div>
                                    <div class="text-xs text-gray-500 mt-1">2:32 PM</div>
                                </div>
                            </div>
                        </div>

                        <div class="message received">
                            <div class="flex items-start mb-4">
                                <img src="/api/placeholder/35/35" alt="User" class="w-8 h-8 rounded-full mr-2 mt-1">
                                <div>
                                    <div class="bg-gray-100 p-3 rounded-lg rounded-tl-none max-w-[80%]">
                                        <p>That's great! Can't wait to see it. Could you also add a messages feature?</p>
                                    </div>
                                    <div class="text-xs text-gray-500 mt-1">2:35 PM</div>
                                </div>
                            </div>
                        </div>

                        <div class="message sent">
                            <div class="flex items-start justify-end mb-4">
                                <div class="text-right">
                                    <div class="bg-blue-400 text-white p-3 rounded-lg rounded-tr-none max-w-[80%] inline-block">
                                        <p>Yes, I'm working on that next!</p>
                                    </div>
                                    <div class="text-xs text-gray-500 mt-1">Just now</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Message Input - Fixed at bottom -->
                    <div class="message-input-container">
                        <div class="flex items-center">
                            <button class="text-blue-400 pr-4">
                                <i class="far fa-image"></i>
                            </button>
                            <button class="text-blue-400 pr-4">
                                <i class="far fa-smile"></i>
                            </button>
                            <div class="flex-1 relative">
                                <input type="text" id="message-input" placeholder="Message" class="w-full border border-gray-200 rounded-full py-2 pl-4 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-400">
                            </div>
                            <button id="send-message-btn" class="ml-3 text-blue-400 disabled:text-gray-300">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- New Message Compose View (hidden by default) -->
                <div id="new-message-compose" class="hidden">
                    <!-- Compose Header -->
                    <div class="sticky top-0 z-10 bg-white border-b border-gray-200">
                        <div class="flex items-center p-3">
                            <button id="back-from-compose" class="mr-3">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <div class="text-lg font-bold">New Message</div>
                        </div>
                        <div class="border-b border-gray-200 p-3">
                            <div class="flex items-center">
                                <div class="text-gray-500 mr-2">To:</div>
                                <input type="text" id="compose-to" placeholder="Search people" class="flex-1 focus:outline-none">
                            </div>
                        </div>
                    </div>

                    <!-- Suggested People -->
                    <div id="suggested-people" class="p-3">
                        <div class="text-sm text-gray-500 mb-2">Suggested</div>
                        
                        <div class="suggested-person flex items-center p-2 hover:bg-gray-50 rounded-lg cursor-pointer">
                            <img src="/api/placeholder/48/48" alt="User Profile" class="w-12 h-12 rounded-full mr-3">
                            <div>
                                <div class="font-bold">Jane Smith</div>
                                <div class="text-sm text-gray-500">@janesmith</div>
                            </div>
                        </div>
                        
                        <div class="suggested-person flex items-center p-2 hover:bg-gray-50 rounded-lg cursor-pointer">
                            <img src="/api/placeholder/48/48" alt="User Profile" class="w-12 h-12 rounded-full mr-3">
                            <div>
                                <div class="font-bold">Mark Johnson</div>
                                <div class="text-sm text-gray-500">@markj</div>
                            </div>
                        </div>
                        
                        <div class="suggested-person flex items-center p-2 hover:bg-gray-50 rounded-lg cursor-pointer">
                            <img src="/api/placeholder/48/48" alt="User Profile" class="w-12 h-12 rounded-full mr-3">
                            <div>
                                <div class="font-bold">Tech News</div>
                                <div class="text-sm text-gray-500">@technews</div>
                            </div>
                        </div>
                    </div>

                    <!-- Next button (disabled by default) -->
                    <div class="fixed bottom-4 right-4">
                        <button id="compose-next-btn" class="bg-blue-400 opacity-50 cursor-not-allowed text-white px-4 py-2 rounded-full font-bold">
                            Next
                        </button>
                    </div>
                </div>

                <!-- Loading indicator for messages -->
                <div id="loading-messages" class="loading-dots hidden">
                    <div></div>
                    <div></div>
                    <div></div>
                </div>            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50">
            <div class="flex justify-around items-center py-3 px-2">
                <div id="home-tab" class="nav-item text-blue-400 flex flex-col items-center" data-page="home">
                    <i class="fas fa-home text-xl"></i>
                    <span class="text-xs mt-1">Home</span>
                </div>
                <div id="explore-tab" class="nav-item text-gray-500 flex flex-col items-center" data-page="explore">
                    <i class="fas fa-search text-xl"></i>
                    <span class="text-xs mt-1">Explore</span>
                </div>
                <div id="notifications-tab" class="nav-item text-gray-500 flex flex-col items-center relative" data-page="notifications">
                    <i class="fas fa-bell text-xl"></i>
                    <span class="text-xs mt-1">Notifications</span>
                </div>
                <div id="messages-tab" class="nav-item text-gray-500 flex flex-col items-center relative" data-page="messages">
                    <i class="fas fa-envelope text-xl"></i>
                    <span class="text-xs mt-1">Messages</span>
                    <div class="notification-badge">3</div>
                </div>
            </div>
        </nav>
    </div>

    <script>
        // Global variables
        let currentPage = 'home';
        let selectedImage = null; // To store the selected image before tweeting
        
        // Function to update the active navigation tab
        function updateActiveNavTab() {
            // Remove active class from all tabs
            document.querySelectorAll('.nav-item').forEach(tab => {
                tab.classList.remove('text-blue-400');
            });
            
            // Add active class to the current tab
            const activeTab = document.querySelector(`.nav-item[data-page="${currentPage}"]`);
            if (activeTab) {
                activeTab.classList.add('text-blue-400');
            }
        }

        // DOM Elements
        const tweetForm = document.getElementById('tweet-form');
        const tweetInput = document.getElementById('tweet-input');
        const tweetFeed = document.getElementById('tweet-feed');
        const tweetButton = document.getElementById('tweet-button');
        const charCount = document.getElementById('char-count');
        const homePage = document.getElementById('home-page');
        const explorePage = document.getElementById('explore-page');
        const notificationsPage = document.getElementById('notifications-page');
        const exploreSearch = document.getElementById('explore-search');
        const exploreSearchResults = document.getElementById('explore-search-results');
        const exploreContent = document.getElementById('explore-content');
        
        // Notifications elements
        const allNotificationsTab = document.getElementById('all-notifications');
        const mentionsNotificationsTab = document.getElementById('mentions-notifications');
        const notificationTabs = document.querySelectorAll('.notification-tab');
        const loadingNotifications = document.getElementById('loading-notifications');
        const notificationsSettings = document.getElementById('notifications-settings');
        
        // Messages elements
        const messagesPage = document.getElementById('messages-page');
        const conversationList = document.getElementById('conversation-list');
        const messageThread = document.getElementById('message-thread');
        const newMessageCompose = document.getElementById('new-message-compose');
        const backToMessages = document.getElementById('back-to-messages');
        const backFromCompose = document.getElementById('back-from-compose');
        const newMessageBtn = document.getElementById('new-message-btn');
        const sendMessageBtn = document.getElementById('send-message-btn');
        const messageInput = document.getElementById('message-input');
        const messageThreadContent = document.getElementById('message-thread-content');
        const loadingMessages = document.getElementById('loading-messages');
        
        // Bottom navigation elements
        const homeTab = document.getElementById('home-tab');
        const exploreTab = document.getElementById('explore-tab');
        const notificationsTab = document.getElementById('notifications-tab');
        const messagesTab = document.getElementById('messages-tab');

        // Page navigation function
        function showPage(pageName) {
            switch(pageName) {
                case 'home':
                    homePage.classList.remove('hidden');
                    explorePage.classList.add('hidden');
                    notificationsPage.classList.add('hidden');
                    currentPage = 'home';
                    break;
                case 'explore':
                    homePage.classList.add('hidden');
                    explorePage.classList.remove('hidden');
                    notificationsPage.classList.add('hidden');
                    currentPage = 'explore';
                    // Focus on the search input when switching to explore
                    setTimeout(() => exploreSearch.focus(), 100);
                    break;
                case 'notifications':
                    homePage.classList.add('hidden');
                    explorePage.classList.add('hidden');
                    notificationsPage.classList.remove('hidden');
                    currentPage = 'notifications';
                    // Show loading indicator briefly for effect
                    loadingNotifications.classList.remove('hidden');
                    setTimeout(() => {
                        loadingNotifications.classList.add('hidden');
                    }, 800);
                    
                    // Hide notification badge when visiting notifications page
                    const badge = document.querySelector('#notifications-tab .notification-badge');
                    if (badge) {
                        badge.style.display = 'none';
                    }
                    break;                case 'messages':
                    homePage.classList.add('hidden');
                    explorePage.classList.add('hidden');
                    notificationsPage.classList.add('hidden');
                    document.getElementById('messages-page').classList.remove('hidden');
                    currentPage = 'messages';
                    
                    // Make sure the messages header is visible when returning to messages tab
                    document.querySelector('#messages-page .sticky.top-0').classList.remove('hidden');
                    
                    // Show loading indicator briefly for effect
                    document.getElementById('loading-messages').classList.remove('hidden');
                    setTimeout(() => {
                        document.getElementById('loading-messages').classList.add('hidden');
                    }, 600);
                    
                    // Hide notification badge when visiting the Messages page
                    const messagesBadge = document.querySelector('#messages-tab .notification-badge');
                    if (messagesBadge) {
                        messagesBadge.style.display = 'none';
                    }
                    break;
            }
            updateActiveNavTab();
        }

        // Event Listeners for bottom navigation
        homeTab.addEventListener('click', () => showPage('home'));
        exploreTab.addEventListener('click', () => showPage('explore'));
        notificationsTab.addEventListener('click', () => showPage('notifications'));
        messagesTab.addEventListener('click', () => showPage('messages'));
        
        // Notification tab switching
        notificationTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                // Remove active class from all tabs
                notificationTabs.forEach(t => t.classList.remove('active'));
                
                // Add active class to clicked tab
                this.classList.add('active');
                
                // Show the corresponding tab content
                const tabName = this.getAttribute('data-tab');
                if (tabName === 'all') {
                    allNotificationsTab.classList.remove('hidden');
                    mentionsNotificationsTab.classList.add('hidden');
                    
                    // Show loading indicator briefly for effect
                    loadingNotifications.classList.remove('hidden');
                    setTimeout(() => {
                        loadingNotifications.classList.add('hidden');
                    }, 600);
                } else if (tabName === 'mentions') {
                    allNotificationsTab.classList.add('hidden');
                    mentionsNotificationsTab.classList.remove('hidden');
                }
            });
        });
        
        // Notification settings event listener
        notificationsSettings.addEventListener('click', function() {
            alert('Notification settings clicked');
            // Implement settings modal here in the future
        });

        // Notification handling functionality
        function handleNotificationClick(notification) {
            // Mark notification as read
            notification.classList.add('bg-gray-50');
            notification.classList.remove('font-semibold');
            
            // In a real app, you would send an API request to mark as read
            console.log('Notification clicked:', notification);
        }
        
        // Add click event to all existing notifications
        document.querySelectorAll('.notification').forEach(notification => {
            notification.addEventListener('click', function() {
                handleNotificationClick(this);
            });
        });
        
        // Function to create a new notification (for demo purposes)
        function createNotification(type, icon, iconColor, userImage, username, action, content, time, tabTarget = 'all') {
            const notification = document.createElement('div');
            notification.className = 'notification border-b border-gray-200 p-4 hover:bg-gray-50 cursor-pointer';
            
            notification.innerHTML = `
                <div class="flex">
                    <div class="mr-3 text-${iconColor}">
                        <i class="fas fa-${icon}"></i>
                    </div>
                    <div class="flex-1">
                        <div class="flex items-start">
                            <img src="${userImage}" alt="User Profile" class="w-10 h-10 rounded-full mr-3">
                            <div>
                                <p class="text-sm">
                                    <span class="font-bold">${username}</span> ${action}
                                </p>
                                ${content ? `<p class="text-gray-500 text-sm mt-1">"${content}"</p>` : ''}
                                <p class="text-gray-500 text-xs mt-1">${time}</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            notification.addEventListener('click', function() {
                handleNotificationClick(this);
            });
            
            // Add to the appropriate tab
            if (tabTarget === 'all') {
                allNotificationsTab.insertBefore(notification, allNotificationsTab.firstChild);
            } else if (tabTarget === 'mentions') {
                // If this is the first mention, remove the empty state
                if (mentionsNotificationsTab.querySelector('.flex.flex-col.items-center')) {
                    mentionsNotificationsTab.innerHTML = '';
                }
                mentionsNotificationsTab.insertBefore(notification, mentionsNotificationsTab.firstChild);
            }
            
            return notification;
        }
        
        // Demo: add a new mention notification after a delay (for demonstration)
        setTimeout(() => {
            createNotification(
                'mention',
                'comment',
                'purple-500',
                '/api/placeholder/48/48',
                'Web Dev Pro',
                'mentioned you',
                'Hey @user, what do you think about this new Twitter clone? It looks amazing!',
                'Just now',
                'mentions'
            );
        }, 10000); // Add a mention after 10 seconds for demo

        // Initialize the UI
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial active tab
            updateActiveNavTab();
            
            // Add dummy tweets for demo if needed
            // generateDummyTweets();
        });
          // Messages functionality
          // Show conversation thread when a conversation is clicked
        document.querySelectorAll('.conversation').forEach(conversation => {
            conversation.addEventListener('click', function() {
                const conversationId = this.getAttribute('data-conversation-id');
                const conversationName = this.querySelector('.font-bold').textContent;
                
                // Update thread header with conversation name
                document.getElementById('conversation-name').textContent = conversationName;
                
                // Hide the Messages header and search field
                document.querySelector('#messages-page .sticky.top-0').classList.add('hidden');
                
                // Show thread view, hide conversation list and messages header
                conversationList.classList.add('hidden');
                messageThread.classList.remove('hidden');
                newMessageCompose.classList.add('hidden');
                
                // Hide the messages header and search when in conversation
                document.querySelector('#messages-page .sticky.top-0.z-10.bg-white').classList.add('hidden');
                
                // Show loading indicator briefly
                loadingMessages.classList.remove('hidden');
                setTimeout(() => {
                    loadingMessages.classList.add('hidden');
                    // Scroll to the bottom of the conversation
                    messageThreadContent.scrollTop = messageThreadContent.scrollHeight;
                }, 400);
            });
        });        // Back button in message thread
        backToMessages.addEventListener('click', function() {
            // Show the Messages header and search field again
            document.querySelector('#messages-page .sticky.top-0').classList.remove('hidden');
            
            conversationList.classList.remove('hidden');
            messageThread.classList.add('hidden');
            newMessageCompose.classList.add('hidden');
            
            // Show the messages header and search again
            document.querySelector('#messages-page .sticky.top-0.z-10.bg-white').classList.remove('hidden');
        });
        
        // New message button
        newMessageBtn.addEventListener('click', function() {
            conversationList.classList.add('hidden');
            messageThread.classList.add('hidden');
            newMessageCompose.classList.remove('hidden');
            document.getElementById('compose-to').focus();
        });
        
        // Back from compose view
        backFromCompose.addEventListener('click', function() {
            conversationList.classList.remove('hidden');
            messageThread.classList.add('hidden');
            newMessageCompose.classList.add('hidden');
        });
          // Enable/disable send message button based on input
        messageInput.addEventListener('input', function() {
            if (this.value.trim() === '') {
                sendMessageBtn.classList.add('text-gray-300');
                sendMessageBtn.disabled = true;
            } else {
                sendMessageBtn.classList.remove('text-gray-300');
                sendMessageBtn.disabled = false;
            }
        });
        
        // Initialize send button state (disabled by default)
        sendMessageBtn.classList.add('text-gray-300');
        sendMessageBtn.disabled = true;
          // Send message functionality
        sendMessageBtn.addEventListener('click', sendMessage);
        messageInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                sendMessage();
            }
        });
          // Send message function
        function sendMessage() {
            const messageText = messageInput.value.trim();
            if (messageText === '') return;
            
            // Create and append the new message
            const messageElement = document.createElement('div');
            messageElement.className = 'message sent';
            messageElement.innerHTML = `
                <div class="flex items-start justify-end mb-4">
                    <div class="text-right">
                        <div class="bg-blue-400 text-white p-3 rounded-lg rounded-tr-none max-w-[80%] inline-block">
                            <p>${messageText}</p>
                        </div>
                        <div class="text-xs text-gray-500 mt-1">Just now</div>
                    </div>
                </div>
            `;
            
            // Add to conversation
            messageThreadContent.appendChild(messageElement);
            
            // Clear input
            messageInput.value = '';
            
            // Disable send button
            sendMessageBtn.classList.add('text-gray-300');
            sendMessageBtn.disabled = true;
            
            // Ensure scroll to the bottom works properly
            setTimeout(() => {
                messageThreadContent.scrollTop = messageThreadContent.scrollHeight;
            }, 100); // Small delay to ensure DOM updates
            
            // Reset the notification badge when user is actively messaging
            const badge = document.querySelector('#messages-tab .notification-badge');
            if (badge) {
                badge.style.display = 'none';
                badge.textContent = '0';
            }
            
            // Simulate a reply after a short delay (for demo)
            setTimeout(() => {
                const replyElement = document.createElement('div');
                replyElement.className = 'message received';
                replyElement.innerHTML = `
                    <div class="flex items-start mb-4">
                        <img src="/api/placeholder/35/35" alt="User" class="w-8 h-8 rounded-full mr-2 mt-1">
                        <div>
                            <div class="bg-gray-100 p-3 rounded-lg rounded-tl-none max-w-[80%]">
                                <p>Thanks for your message! I'll get back to you soon.</p>
                            </div>
                            <div class="text-xs text-gray-500 mt-1">Just now</div>
                        </div>
                    </div>
                `;
                
                messageThreadContent.appendChild(replyElement);
                messageThreadContent.scrollTop = messageThreadContent.scrollHeight;
            }, 2000);
        }
        
        // Handle suggested person selection
        document.querySelectorAll('.suggested-person').forEach(person => {
            person.addEventListener('click', function() {
                const name = this.querySelector('.font-bold').textContent;
                
                // Update compose input
                document.getElementById('compose-to').value = name;
                
                // Enable next button
                const nextBtn = document.getElementById('compose-next-btn');
                nextBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                
                // Add click handler to next button
                nextBtn.addEventListener('click', function() {
                    // Set conversation name
                    document.getElementById('conversation-name').textContent = name;
                    
                    // Show empty conversation
                    messageThreadContent.innerHTML = '';
                    
                    // Show thread view
                    conversationList.classList.add('hidden');
                    messageThread.classList.remove('hidden');
                    newMessageCompose.classList.add('hidden');
                    
                    // Focus on message input
                    messageInput.focus();
                });
            });
        });

        // Function to simulate new messages and update badge
        function simulateNewMessage() {
            // Only update if not currently on messages page
            if (currentPage !== 'messages') {
                const badge = document.querySelector('#messages-tab .notification-badge');
                
                if (badge) {
                    // Get current count
                    let count = parseInt(badge.textContent);
                    // Increment count
                    count++;
                    // Update badge
                    badge.textContent = count;
                    // Make sure badge is visible
                    badge.style.display = 'flex';
                }
            }
        }

        // Simulate a new message every 30-60 seconds
        function scheduleMessageNotification() {
            // Random time between 30 and 60 seconds
            const randomTime = Math.floor(Math.random() * (60000 - 30000 + 1)) + 30000;
            
            setTimeout(() => {
                simulateNewMessage();
                scheduleMessageNotification(); // Schedule next notification
            }, randomTime);
        }

        // Start the notification simulation
        scheduleMessageNotification();
    </script>
</body>
</html>